---
layout: single
title:  "[UMC] 6ì£¼ì°¨ : Thread"
categories: UMC
tag: [UMC, project]
toc: true
author_profile: false
sidebar:
nav: "docs"
search: true
---
## ios 6ì£¼ì°¨ ì›Œí¬ë¶ (Thread)

## ğŸ“Â í•™ìŠµ ëª©í‘œ

---

1. Threadë¥¼ ì´í•´í•œë‹¤.
2. Multi-Threadì˜ ê°œë…ì„ ì´í•´í•˜ê³  í™œìš©í•  ìˆ˜ ìˆë‹¤.

## âœğŸ»Â ìˆ˜ì—… ë‚´ìš© ì •ë¦¬

---

Threadë€ ë¬´ì—‡ì¸ê°€?

ê°€ë‹¥ ë§¥ë½

ê¿°ë‹¤

iosì˜ ê¸°ìˆ ì ì¸ ë‚´ìš©ì´ ì•„ë‹ˆë¼ OSì¸¡ë©´ì˜ ì´ì•¼ê¸°

ì‰½ê²Œ ë§í•˜ìë©´ ìŠ¤ë ˆë“œëŠ” â€˜íë¦„â€™ì´ë‹¤.

ìŠ¤ë ˆë“œë¥¼ ì´í•´í•˜ë ¤ë©´ ìš°ì„  í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•´ ì´í•´ í•´ì•¼í•œë‹¤.

í”„ë¡œì„¸ìŠ¤ëŠ” ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë¨, ì‹¤í–‰ì¤‘ì¸ í”„ë¡œê·¸ë¨ì´ë‹¤.

ìŠ¤ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ ì¦‰ ì‹¤í–‰ì¤‘ì¸ í”„ë¡œê·¸ë¨ì—ì„œ ì‹¤ì§ˆì ì¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì£¼ì²´, í”„ë¡œê·¸ë¨ì˜ íë¦„ì´ë‹¤.

<img width="825" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-31 á„‹á…©á„’á…® 9 09 04" src="https://user-images.githubusercontent.com/102133961/199237175-511e0deb-d1f6-4aec-9d56-e7e980424936.png">

í”„ë¡œì„¸ìŠ¤ì˜ íë¦„ì´ê¸°ì— í”„ë¡œì„¸ìŠ¤ ë‚´ë¶€ì— ì†í•˜ê²Œ ëœë‹¤. 

<img width="875" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-31 á„‹á…©á„’á…® 9 10 44" src="https://user-images.githubusercontent.com/102133961/199237218-8316c034-f80e-47ac-b827-b99b70fba973.png">

íŒŒì¼ ì„¸ ê°œë¥¼ ë‹¤ìš´ ë°›ëŠ”ë‹¤ê³  í•˜ë©´, ì´ ì„¸ ê°œë¥¼ ë‹¤ìš´ë°›ëŠ” ë…€ì„ì´ ìŠ¤ë ˆë“œì´ë‹¤. (ì£¼ì²´ë¥¼ ë§¡ëŠ” ê²ƒì´ ìŠ¤ë ˆë“œ)

<img width="872" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-31 á„‹á…©á„’á…® 9 12 17" src="https://user-images.githubusercontent.com/102133961/199237251-6b511b8f-0353-4349-acfb-4db83d7bac59.png">
<img width="851" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-31 á„‹á…©á„’á…® 9 13 51" src="https://user-images.githubusercontent.com/102133961/199237336-5dcdece1-0483-42c4-beb5-9ff845e783f8.png">


í”„ë¡œì„¸ìŠ¤ê°€ í”„ë¡œê·¸ë¨ì´ë‹¤ ë³´ë‹ˆ, ì½”ë“œì™€ ë°ì´í„° íŒŒì¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ì‹¤ì§ˆì ì¸ ì‘ì—…ì„ ë‹´ë‹¹í•˜ëŠ” ê²ƒì´ ìŠ¤ë ˆë“œì´ë‹¤. ê·¸ë¦¼ì²˜ëŸ¼ í”„ë¡œì„¸ìŠ¤ ë‚´ì— ìœ„ì¹˜í•˜ê³  ìˆë‹¤. í”„ë¡œì„¸ìŠ¤ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì£¼ì²´ê°€ ìŠ¤ë ˆë“œì´ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ ì•ˆì—ëŠ” ìµœì†Œ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ì¡´ì¬í•œë‹¤.

ì˜¤ë¥¸ìª½ ê·¸ë¦¼ì²˜ëŸ¼ ìŠ¤ë ˆë“œê°€ ì—¬ëŸ¬ê°œ ìˆìœ¼ë©´ ë©€í‹° ìŠ¤ë ˆë“œ, í•˜ë‚˜ ìˆìœ¼ë©´ ì‹±ê¸€ ìŠ¤ë ˆë“œ í™˜ê²½ì´ë¼ê³  í•œë‹¤.

ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì€ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ ë‚´ì— ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ì¡´ì¬í•˜ëŠ” ê±°ë¼, ê°ì ì‘ì—…ì„ ë¶„ë‹´í•´ì„œ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.

ìŠ¤ë ˆë“œëŠ” ê³ ì†ë„ë¡œì²˜ëŸ¼ ìƒê°í•˜ë©´ ëœë‹¤!

ë„ë¡œê°€ í•˜ëŠ” ì¼ì€ ë˜‘ê°™ë‹¤. ë„ë¡œë¥¼ í”„ë¡œì„¸ìŠ¤ë¼ê³  ìƒê°í•˜ë©´

ì´ ë„ë¡œ ì•ˆì— ìˆëŠ” ì°¨ì„ ì´ ë°”ë¡œ ìŠ¤ë ˆë“œì´ë‹¤. ì°¨ì„  ë³„ë¡œ ì—­í• ì´ ì •í•´ì ¸ ìˆëŠ” ê²ƒì²˜ëŸ¼ (1ì°¨ì„ ì€ ì¶”ì›”ë¡œâ€¦ë“±) ë©€í‹° ìŠ¤ë ˆë“œì¼ ë• ì´ë ‡ê²Œ ì—­í• ì´ ë¶€ì—¬ëœë‹¤.

<img width="838" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-31 á„‹á…©á„’á…® 9 17 06" src="https://user-images.githubusercontent.com/102133961/199237445-c184c026-d7a1-4946-b5a9-94f0012614c4.png">

ì•„ê¹Œì™€ ë‹¬ë¦¬ ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œëŠ” ì´ë ‡ê²Œ ì—­í• ì´ ë¶„ë°°ëœë‹¤.

í•˜ì§€ë§Œ ê²°êµ­ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ì˜ ë§ˆë¬´ë¦¬ ì‹œê°„ì€ ë˜‘ê°™ë‹¤.

(ë™ì‹œì— í•˜ì§€ ì•Šê¸° ë•Œë¬¸)
<img width="869" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-31 á„‹á…©á„’á…® 9 18 38" src="https://user-images.githubusercontent.com/102133961/199237509-5c17106b-df57-418e-8e92-c04052dd615f.png">


ì´ë ‡ê²Œ ë©€í‹° ìŠ¤ë ˆë“œì—ì„œ ë™ì‹œì— ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ ë˜ë©´ ì´ê±¸ ë°”ë¡œ ë¹„ë™ê¸°ì²˜ë¦¬ë¥¼ í•œë‹¤ê³  ë§í•  ìˆ˜ ìˆë‹¤.

ì € ìœ„ì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ë°”ë¡œ ë™ê¸°(sync)ë¼ê³  í•œë‹¤.

ìš°ë¦¬ê°€ ê¶ê·¹ì ìœ¼ë¡œ ë°°ìš°ê³ ì í•˜ëŠ” ê±´ ë¹„ë™ê¸°ì²˜ë¦¬ì´ë‹¤.

í•œ ëˆˆì— ë´ë„ í•œ í”„ë¡œì„¸ìŠ¤ ì‚¬ì´í´ì„ ë³´ë‹¤ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ë¹„ë™ê¸°ì—ëŠ” ìˆê¸° ë•Œë¬¸ì´ë‹¤.

í•˜ì§€ë§Œ ë™ì‹œì— ì²˜ë¦¬í•¨ìœ¼ë¡œì¨ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë“¤ë„ ìˆê¸° ë•Œë¬¸ì— í•­ìƒ ì¢‹ì€ ê²ƒì€ ì•„ë‹ˆë‹¤!

ê·¸ë˜ì„œ ë¹„ë™ê¸° ë™ê¸° ë³„ë¡œ ì¢‹ì„ ë§Œí•œ ìƒí™©ì„ íŒŒì•…í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

ì€í–‰ì—ì„œ ì¸ì¶œì„ í•  ë•Œ, ê°€ì¡± ì¤‘ í•œì‚¬ëŒê³¼ ë‚´ê°€ ë™ì‹œì— ì¸ì¶œì„ ì‹œë„í•œë‹¤ê³  í•˜ì, ê°ì 2ë§Œì›ì”© ì¸ì¶œí•œë‹¤ë©´ ë™ì‹œì— ì²˜ë¦¬ê°€ ë˜ì—ˆì„ ë•Œ -2ë§Œì›ì´ ë˜ë¯€ë¡œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì´ëŸ° ê²½ìš° í•œê°€ì§€ ìŠ¤ë ˆë“œë¥¼ ì ê¶ˆë²„ë¦¬ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ê²Œ ëœë‹¤. ì´ë•ŒëŠ” ë™ê¸°ì²˜ë¦¬ê°€ í•„ìš”í•œ ê²ƒì´ë‹¤.

ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ ê°œì¸ì€ ì¼ì˜ ëŠ¥ë¥ ì„ ìœ„í•œ ê²ƒì´ ì•„ë‹ˆë¼, ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í–ˆì„ ë•Œ ëŠ¥ë¥ ê¹Œì§€ ì ìš©ì´ ë˜ëŠ” ê²ƒì´ë‹¤.

# ì‹¤ìŠµ
<img width="1792" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-31 á„‹á…©á„’á…® 9 49 06" src="https://user-images.githubusercontent.com/102133961/199237546-59669604-21e2-415c-863f-04a541c64353.png">


## ğŸ¯Â í•µì‹¬ í‚¤ì›Œë“œ

---

<aside>
ğŸ’¡ ì¤‘ìš”í•œ ê°œë…ë“¤ì— ëŒ€í•´ ì¡°ì‚¬í•´ì„œ ì •ë¦¬í•´ì£¼ì„¸ìš”!
ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì°¸ê³ í•˜ì—¬ ê°œë…ì˜ ì •ì˜, ì†ì„±, ì¥ë‹¨ì  ë“±ì„ ì ì–´ì£¼ì…”ë„ ë©ë‹ˆë‹¤.
ì¡°ì‚¬ëŠ” ê³µì‹ í™ˆí˜ì´ì§€ **Best**, ë¸”ë¡œê·¸(ìµœì‹  ë‚ ì§œ) **Not Bad**

</aside>

- Thread
    
    [https://babbab2.tistory.com/63](https://babbab2.tistory.com/63)
    
    **ì“°ë ˆë“œ(Thread)**
    
    **í•œ í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ë™ì‘ë˜ëŠ” ì—¬ëŸ¬ ì‹¤í–‰ì˜ íë¦„**
    
    ì“°ë ˆë“œì˜ ì •ì˜ëŠ” ì´ëŸ¼
    
    ì“°ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì•„ë‹Œ, í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ë™ì‘ë˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì—
    
    **ë©”ëª¨ë¦¬ ì˜ì—­ì„ ë…ë¦½ì ìœ¼ë¡œ í• ë‹¹ë°›ì§€ ëª»í•¨**!
    ![thread](https://user-images.githubusercontent.com/102133961/199237720-2654c0a4-b262-4a76-af98-05a3f4010597.png)

    
    ì´ëŸ° ì‹ìœ¼ë¡œÂ **Code, Data, Heap ì˜ì—­ì€ ê³µìœ **í•˜ê³ Â **Stack ì˜ì—­ë§Œ ë…ë¦½ì ìœ¼ë¡œ í• ë‹¹**ë°›ì„ ìˆ˜ ìˆìŒ!!
    
    (Stack ì˜ì—­ë§Œ ë³„ë„ë¡œ ê°€ì§€ëŠ” ì´ìœ ëŠ” Stack ì˜ì—­ì´ LIFOë¼ì„œ,
    
    Stackì´ ìŒ“ì´ë©´ í”„ë¡œì„¸ìŠ¤ê°€ ì„ì¸ ì±„ë¡œ ìˆœì„œëŒ€ë¡œ ë‚˜ì™€ íë¦„ì— ë°©í•´ë¥¼ ì£¼ê¸° ë•Œë¬¸ì´ë¼ í•¨ ;ã…;)
    
    ë”°ë¼ì„œ ì“°ë ˆë“œë“¤ ë¼ë¦¬ëŠ”Â **í™ ì˜ì—­ì„ ê³µìœ í•˜ì—¬ ê°™ì€ ìì›ì„ ì ‘ê·¼**í•  ìˆ˜ ìˆì§€ë§Œ,
    
    ê°ìì˜Â **ìŠ¤íƒ ì˜ì—­ì€ ì„œë¡œ ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ**
    
- Process
    
    **ìš´ì˜ì²´ì œë¡œë¶€í„° ì‹œìŠ¤í…œ ìì›ì„ í• ë‹¹ë°›ëŠ” ì‘ì—…ì˜ ë‹¨ìœ„**
    
    í”„ë¡œì„¸ìŠ¤ì˜ ê°œë…ì€ ìœ„ì™€ ê°™ìŒì„ ë§í•˜ëŠ” ê²ƒì„!!
    
    ë”°ë¼ì„œ ì´ í”„ë¡œì„¸ìŠ¤ë“¤ì€
    
    ê°ê°ì˜Â **ë…ë¦½ëœ**Â **ë©”ëª¨ë¦¬ ì˜ì—­ (Code, Data, Stack, Heap)ì„Â ê°ì í• ë‹¹**Â ë°›ìŒ!
    
    ë”°ë¼ì„œÂ **í”„ë¡œì„¸ìŠ¤ë¼ë¦¬ëŠ”Â ì„œë¡œì˜ ë³€ìˆ˜ë‚˜ ìë£Œêµ¬ì¡°ì— ëŒ€í•´ ì ˆëŒ€ ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ**
    
    ë§Œì•½, A í”„ë¡œì„¸ìŠ¤ê°€ B í”„ë¡œì„¸ìŠ¤ ìì› ì ‘ê·¼í•˜ë ¤ê³  í•˜ë©´,
    
    **í”„ë¡œì„¸ìŠ¤ê°„ í†µì‹ (IPC)**ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨(íŒŒì¼, ì†Œì¼“ ë“±)
    
- Multi-Thread
    
    **í•˜ë‚˜ì˜ í”„ë¡œê·¸ë¨ì„ ì—¬ëŸ¬ ê°œì˜ ì“°ë ˆë“œë¡œ êµ¬ì„±í•˜ì—¬,**
    
    **ê° ì“°ë ˆë“œë§ˆë‹¤Â í•˜ë‚˜ì˜ ì‘ì—…(Task)ì”© ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” ê²ƒ**
    
    ìœˆë„ìš°, ë¦¬ëˆ…ìŠ¤ ë“± ë§ì€ ìš´ì˜ì²´ì œê°€ ë©€í‹° í”„ë¡œì„¸ì‹±ì„ ì§€ì›í•˜ì§€ë§Œ,
    
    ì´Â **ë©€í‹° ì“°ë ˆë“œë¥¼ ê¸°ë³¸**ìœ¼ë¡œ í•˜ê³  ìˆìŒ!!
    
    ê·¸ëŸ¼ ì™œ ë©€í‹° í”„ë¡œì„¸ì‹±ì´ ì•„ë‹Œ, ë©€í‹° ì“°ë ˆë“œê°€ ê¸°ë³¸ì¸ì§€ ì¥ë‹¨ì ì„ ì‚´í´ë³´ì :)
    
    ë¨¼ì €Â **ì¥ì **ë¶€í„° ë³´ìë©´,
    
    ì“°ë ˆë“œ ê°„Â **Code, Data, Heap ì˜ì—­ì„ ê³µìœ **í•˜ê¸° ë•Œë¬¸ì—,Â **Context Switchingì´ ë¹ ë¦„**
    
    ë˜í•œÂ **í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ìì›ì„ í• ë‹¹í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸**ì—,
    
    **ìƒì„±/ì¢…ë£Œ ì‹œê°„ë„ í”„ë¡œì„¸ìŠ¤ë³´ë‹¤ ë¹ ë¦„**
    
    ë˜ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ì´ ê¹Œë‹¤ë¡œìš´ ë°˜ë©´ì—, ì“°ë ˆë“œë“¤ì€ stack ì˜ì—­ì„ ì œì™¸í•˜ê³ 
    
    ë‚˜ë¨¸ì§€ ì˜ì—­ì„ ê³µìœ í•˜ê¸° ë•Œë¬¸ì—Â **í†µì‹  ë°©ë²•ì´ í›¨ì”¬ ê°„ë‹¨í•¨**
    
    ë‹¤ë§ŒÂ **ë‹¨ì **ë„ ì¡´ì¬í•¨
    
    **ì„¤ê³„ê°€ ê¹Œë‹¤ë¡œì›€**. ì™œëƒë©´ Stackì˜ì—­ ë¹¼ê³  ê³µìœ ë¥¼ í•˜ê¸° ë•Œë¬¸ì—,
    
    Aì“°ë ˆë“œê°€ ì ‘ê·¼í•˜ë ¤ëŠ” í™ ì˜ì—­ì˜ ìì›ì„ Bê°€ ê°‘ìê¸° ì ‘ê·¼í•´ì„œ ë°”ê¿”ë²„ë¦¬ëŠ” ë“±
    
    **ìì› ê³µìœ ì˜ ë¬¸ì œê°€ ìƒê¸°ê¸° ë•Œë¬¸(ë™ê¸°í™” ë¬¸ì œ)**
    
    ë˜í•œ ë…ë¦½ì ì´ì§€ ì•Šì•„,Â **í•˜ë‚˜ì˜ ì“°ë ˆë“œì—ì„œ ë¬¸ì œê°€ ë°œìƒ ì‹œ ì „ì²´ ì“°ë ˆë“œê°€ ì˜í–¥**ì„ ë°›ìŒ
    
    - valueChanged
    
    ê°’ì´ ë°”ë€Œë©´ ë¶„ê¸°?
    
    - touchUpInside
    
    í„°ì¹˜ë¥¼ í•˜ë©´ ë¶„ê¸°?
    
- ë¹„ë™ê¸° ì²˜ë¦¬
    
    ì´ì œ syncì™€ asyncì—ëŒ€í•´ ì•Œì•„ë³´ì. syncëŠ” ë™ê¸° ì²˜ë¦¬ ë©”ì†Œë“œ, asyncëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ ë©”ì†Œë“œë‹¤. ë™ê¸° ì²˜ë¦¬ ë©”ì†Œë“œÂ **syncëŠ” ì£¼ì–´ì§„ ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ë‹¤ìŒ ì‘ì—…ìœ¼ë¡œ ë„˜ì–´ê°€ì§€ ì•ŠëŠ”ë‹¤**
    .Â¹Â **ë¹„ë™ê¸° ì²˜ë¦¬ ë©”ì†Œë“œ asyncëŠ”**
    Â ì£¼ì–´ì§„ ì‘ì—…ì´ ì™„ë£Œë˜ë“  ë§ë“ ,Â **ì‘ì—… ì „ë‹¬ í›„ ê³§ ë°”ë¡œ ë‹¤ìŒ ì‘ì—…ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤**
    
- Thread-Lock
    
    [https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=horajjan&logNo=220775728358](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=horajjan&logNo=220775728358)
    
    ë©€í‹°ìŠ¤ë ˆë“œ í”„ë¡œê·¸ë˜ë° ì‹œ, ë½ ë©”ì»¤ë‹ˆì¦˜ì˜ í•µì‹¬ì€ í•˜ë‚˜ì˜ ì‘ì—…ì´ ì´ë¤„ì§€ê³  ìˆì„ ë•Œ, ê·¸ ë¬´ì—‡ë„ í•´ë‹¹ ì‘ì—…ì„ ë°©í•´í•  ìˆ˜ ì—†ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìŠ¤ë ˆë“œ1ì´ ê°ì²´ë¥¼ ì–»ì–´ ì¶œë ¥í•˜ê³  ìˆì„ ë•Œ, ìŠ¤ë ˆë“œ 2ëŠ” ìŠ¤ë ˆë“œ 1ì´ ë°°ì—´ì—ì„œ ê°ì²´ë¥¼ êº¼ë‚´ì–´ ì™„ë£Œí•  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤.
    
    Lockì„ ì–»ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ [synchronized(objA)ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤](https://www.notion.so/synchronized-objA-c370242082c7458682ce5ee23a5a5249) 
    
    ```swift
     @synchronized(anObj){
    //ì—¬ê¸°ì„œ ì¥ê¸ˆ ìƒíƒœê°€ ëœë‹¤
    }
    ```
    

ê·¸ ë‹¤ìŒìœ¼ë¡œ NSLockì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤. Lock ë˜ëŠ” tryLock ë‘ ê°€ì§€ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. Lock ë©”ì†Œë“œëŠ” ë½ì´ ì—†ëŠ” ìŠ¤ë ˆë“œê°€ ë½ì„ ì–»ì„ ë•Œê¹Œì§€ ì¤‘ì§€í•˜ê³  ëŒ€ê¸°í•œë‹¤. ê·¸ëŸ¬ë‚˜ tryLock ë©”ì†Œë“œëŠ” tryLockë©”ì†Œë“œê°€ NOë¥¼ ë°˜í™˜í•˜ë©´ ì´ëŠ” ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ë½ì„ ì´ë¯¸ ê°–ê³  ìˆì–´ ë½ì„ íšë“í•  ìˆ˜ ì—†ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

[https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=horajjan&logNo=220775728358](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=horajjan&logNo=220775728358)

- Dispatch Queue
    
    

# **DispatchQueue**

An object that manages the execution of tasks serially or concurrently on your app's main thread or on a background thread.

iOS 8.0+iPadOS 8.0+macOS 10.10+Mac Catalyst 13.0+tvOS 9.0+watchOS 2.0+Xcode 8.0+

## **Declaration**

`class DispatchQueue : DispatchObject`

## **Overview**

Dispatch queues are FIFO queues to which your application can submit tasks in the form of block objects. Dispatch queues execute tasks either serially or concurrently. Work submitted to dispatch queues executes on a pool of threads managed by the system. Except for the dispatch queue representing your app's main thread, the system makes no guarantees about which thread it uses to execute a task.

You schedule work items synchronously or asynchronously. When you schedule a work item synchronously, your code waits until that item finishes execution. When you schedule a work item asynchronously, your code continues executing while the work item runs elsewhere.

**Important**
Attempting to synchronously execute a work item on the main queue results in deadlock.

### **Avoiding Excessive Thread Creation**

When designing tasks for concurrent execution, do not call methods that block the current thread of execution. When a task scheduled by a concurrent dispatch queue blocks a thread, the system creates additional threads to run other queued concurrent tasks. If too many tasks block, the system may run out of threads for your app.

Another way that apps consume too many threads is by creating too many private concurrent dispatch queues. Because each dispatch queue consumes thread resources, creating additional concurrent dispatch queues exacerbates the thread consumption problem. Instead of creating private concurrent queues, submit tasks to one of the global concurrent dispatch queues. For serial tasks, set the target of your serial queue to one of the global concurrent queues. That way, you can maintain the serialized behavior of the queue while minimizing the number of separate queues creating threads.

## ğŸ“¢Â 6ì£¼ì°¨ ìˆ˜ì—… í›„ê¸°

---

- 6**ì£¼ì°¨** **ìˆ˜ì—…ì„ ë“£ê³  ì„œë¡œ ëŠë‚€ ì ì„ ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”!**
- ë‹¤í–‰íˆ ì „ì£¼ì— ê³µë¶€í–ˆë˜ ë‚´ìš©ì´ ë§ì´ ë‚˜ì™”ë‹¤.
- ë•ë¶„ì— ë¹ ë¥´ê²Œ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤.
- 

## âš ï¸Â ìŠ¤í„°ë””ê°„ ì£¼ì˜ì‚¬í•­

---

1. **ê³¼ì œ í”¼ë“œë°± ê¸°ë°˜ ì§„í–‰ì…ë‹ˆë‹¤** - í•œëª…ì”© ë³¸ì¸ì˜ **ê³¼ì œë¥¼ ë°œí‘œ**í•˜ëŠ” ì‹œê°„ ê·¸ë¦¬ê³  í•´ì˜¨ **ê³¼ì œì— ëŒ€í•œ í”¼ë“œë°±**ì„ í•˜ëŠ” ì‹œê°„ (ex:ì „ ì´ë ‡ê²Œ ìƒê°í•´ì„œ ì´ëŸ° ë¶€ë¶„ ë‹¤ë¥´ê²Œ í•´ì™”ëŠ”ë° ì €ê²ƒë„ ê´œì°®ì€ ê²ƒ ê°™ì•„ìš”!)ì´ **ë¬´ì¡°ê±´ ê¸°ë°˜**ì´ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤!
2. ë¶€ê°€ì ìœ¼ë¡œ **ì›Œí¬ë¶ì—ì„œ ì œê³µë˜ëŠ” í‚¤ì›Œë“œ í˜¹ì€ ê°•ì˜ì—ì„œ ë“¤ì€ ë””í…Œì¼ì ì¸ ë¶€ë¶„**ì—ì„œ ë” í† ì˜í•´ë´ë„ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

## âœ…Â ì‹¤ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

---

- [x]  ë™ê¸° ì²˜ë¦¬ì™€ ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ì°¨ì´ì ì„ ì´í•´í–ˆë‚˜ìš”?
    <img width="398" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-11-01 á„‹á…©á„’á…® 2 23 04" src="https://user-images.githubusercontent.com/102133961/199237859-3a40a623-f89a-4c9a-9925-cb882980ce36.png">

    

- [x]  async ê³¼ sync ëª…ë ¹ì–´ì˜ ì°¨ì´ì ì„ í™•ì¸í–ˆë‚˜ìš”?
    <img width="398" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-11-01 á„‹á…©á„’á…® 2 23 04" src="https://user-images.githubusercontent.com/102133961/199237884-fe4d487e-67cd-43e2-8a93-522a15f3174a.png">

    

- [x]  Dispatch Queue ì‚¬ìš©í•˜ì—¬ UIì— í™œìš©í•´ë³´ì•˜ë‚˜ìš”?
    <img width="1512" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-11-01 á„‹á…©á„’á…® 2 22 56" src="https://user-images.githubusercontent.com/102133961/199237934-6fd6e38b-b9ab-4b61-86b3-d7a05f4056d4.png">

    

- ë¯¸ì…˜ ì°¸ê³  ì˜ìƒ
    
    [](https://www.youtube.com/watch?v=EHNnF8maOKU&list=PLKi37YIxs-7taJns3l65dDOKjgsN1upi9)
    

## âš¡ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

---

<aside>
ğŸ’¡ ì‹¤ìŠµì´ë‚˜ ë¯¸ì…˜ì„ í•˜ë©´ì„œ ìƒê¸´ ë¬¸ì œë“¤ì— ëŒ€í•´ì„œ, **ì´ìŠˆ - ë¬¸ì œ - í•´ê²°** ìˆœì„œë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.

</aside>

- âš¡ì´ìŠˆ No.1 (ì˜ˆì‹œ, ì„œì‹ë§Œ ë³µì‚¬í•˜ì‹œê³  ì§€ì›Œì£¼ì„¸ìš”.)
    
    **`ì´ìŠˆ`**
    
    ğŸ‘‰ ì•± ì‹¤í–‰ ì¤‘ì— ë…¸ë˜ ë‹¤ìŒ ë²„íŠ¼ì„ ëˆ„ë¥´ë‹ˆê¹Œ ì•±ì´ ì¢…ë£Œë˜ì—ˆë‹¤.
    
    **`ë¬¸ì œ`**
    
    ğŸ‘‰ ë…¸ë˜í´ë˜ìŠ¤ì˜ ë°ì´í„°ë¦¬ìŠ¤íŠ¸ì˜ Sizeë¥¼ ë„˜ì–´ì„œ NullPointExceptionì´ ë°œìƒí•˜ì—¬ ì•±ì´ ì¢…ë£Œëœ ê²ƒì´ì—ˆë‹¤. 
    
    **`í•´ê²°`**
    
    ğŸ‘‰  ë…¸ë˜ ë‹¤ìŒ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ë°ì´í„°ë¦¬ìŠ¤íŠ¸ì˜ Sizeë¥¼ ê²€ì‚¬í•´ Sizeë³´ë‹¤ ë„˜ì–´ê°€ë ¤ê³  í•˜ë©´ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” ë©”ì„œë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ì§€ ì•Šê³ , ì²« ë…¸ë˜ë¡œ ëŒì•„ê°€ê²Œë” í•´ê²°
    
    **`ì°¸ê³  ë ˆí¼ëŸ°ìŠ¤`**
    
    - ë§í¬

## ğŸ¤”Â ì´ê²ƒë„ í•œ ë²ˆ ìƒê°í•´ë´ìš”!

---

- Dispatch Queueì˜ ì˜µì…˜ë“¤ì— ëŒ€í•´ ê³µë¶€í•´ë³´ì„¸ìš”! (ex. main, global(), â€¦)
    - main
    - global()
    - ê¸°íƒ€ ì˜µì…˜ë“¤ì— ëŒ€í•´ì„œë„ ê³µë¶€í•´ë³´ì„¸ìš”!
- Dispatch Queueì˜ serial, Concuerrentì— ëŒ€í•´ì„œë„ ê³µë¶€í•´ë³´ì„¸ìš”!


# standard mission

ë‚˜ë§Œì˜ íƒ€ì´ë¨¸ ë§Œë“¤ê¸°!

ì¸í•˜ëŒ€ ìˆ˜ê°•ì‹ ì²­ ì‚¬ì´íŠ¸ë¥¼ í‰ë‚´ë‚¸ ì•±ì„ ë§Œë“¤ì–´ ë³´ì•˜ë‹¤.

ìŠ¤ë ˆë“œ ë‹¨ì›ì´ë¼ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë°â€¦

ì²˜ìŒì—” ë©€í‹° ìŠ¤ë ˆë“œ 2ê°œë¥¼ ì´ìš©í•´ì„œ í•˜ë‚˜ëŠ” ë¼ë²¨ í•˜ë‚˜ëŠ” ë°°ê²½ìƒ‰ì„ ë°”ê¾¸ë¦¬ë¼ ë‹¤ì§í–ˆìœ¼ë‚˜

ê·¸ëƒ¥ ì´ì „ì— ë°°ìš´ DispatchSourceTimerë¥¼ ì‚¬ìš©í•˜ëŠ” ìª½ì´ í›¨ì”¬ ì‰½ê³ 

ë©”ì¸ ìŠ¤ë ˆë“œ ë‚´ë¶€ì—ì„œ í•œ ë²ˆì— í•´ê²°í•  ìˆ˜ ìˆì–´ ì´ê±¸ë¡œ í–ˆë‹¤.

(ë˜ DispatchSourceTimerë¼ëŠ” GCD ê°ì²´ë¥¼ ì—¬ëŸ¬ë¶„ë“¤ê»˜ ì†Œê°œí•˜ê³  ì‹¶ê¸°ë„ í–ˆë‹¤)

## ğŸ˜‡Timer í´ë˜ìŠ¤ë¡œ íƒ€ì´ë¨¸ ë§Œë“¤ê¸°

ì‚¬ì‹¤ íƒ€ì´ë¨¸ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì€ ë‹¤ì–‘í•œë°

Timer í´ë˜ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ë„ ìˆë‹¤(Timer ì˜ scheduledTimer() ì´ìš©)

```swift
Timer.scheduledTimer(withTimeInterval: 3, repeats: false) {
(timer) in
    print("Timer Fire!")
} // ë°˜ë³µí•˜ì§€ ì•ŠëŠ” íƒ€ì´ë¨¸

Timer.scheduledTimer(withTimeInterval: 1, repeats: true) {
(timer) in
  print("Timer on every second")
} // ë°˜ë³µí•˜ëŠ” íƒ€ì´ë¨¸
```

iOS 13ë¶€í„° ì¶”ê°€ëœ Combine frameworkì™€ í•¨ê»˜ Timer í´ë˜ìŠ¤ì—ë„ publish() í•¨ìˆ˜ê°€ ì¶”ê°€ëë‹¤!

íŠ¹ì •í•œ Loop ë™ì•ˆ ë°˜ë³µí•˜ëŠ” íƒ€ì´ë¨¸ë¥¼ ë§Œë“¤ê¸° ì¢‹ë‹¤

```swift
let cancellable = Timer.publish(every: 1, on: .main, in: .common)
.autoconnect()
.sink(){
print("timer fired at \($0)")
}
```

# **publish(every:tolerance:on:in:options:)**

Returns a publisher that repeatedly emits the current date on the given interval.

iOS 13.0+iPadOS 13.0+macOS 10.15+Mac Catalyst 13.0+tvOS 13.0+watchOS 6.0+Xcode 11.0+

## **Declaration**

`static func publish(
    every interval: TimeInterval,
    tolerance: TimeInterval? = nil,
    on runLoop: RunLoop,
    in mode: RunLoop.Mode,
    options: RunLoop.SchedulerOptions? = nil
) -> Timer.TimerPublisher`

****Parameters`interval`**The time interval on which to publish events. For example, a value ofÂ `0.5`Â publishes an event approximately every half-second.**`tolerance`**The allowed timing variance when emitting events. Defaults toÂ `nil`, which allows any variance.**`runLoop`**The run loop on which the timer runs.**`mode`**The run loop mode in which to run the timer.**`options`**Scheduler options passed to the timer. Defaults toÂ `nil`.

## **Return Value**

A publisher that repeatedly emits the current date on the given interval.

## **Discussion**

The return type,Â `[Timer.TimerPublisher](https://developer.apple.com/documentation/foundation/timer/timerpublisher)`, conforms toÂ `[ConnectablePublisher](https://developer.apple.com/documentation/combine/connectablepublisher)`, which means you must explicitly connect to theÂ `Timer`Â publisher to begin publishing events. You can do this with a call toÂ `[connect()](https://developer.apple.com/documentation/combine/connectablepublisher/connect())`, or by usingÂ `[autoconnect()](https://developer.apple.com/documentation/combine/connectablepublisher/autoconnect())`Â to automatically connect when a subscriber attaches, as shown here:

`cancellable = Timer.publish(every: 1, on: .main, in: .common)    .autoconnect()    .sink() {        print ("timer fired: \($0)")}`

## ğŸ¥¨ë¹„ë™ê¸° ìŠ¤ë ˆë“œ ë°©ì‹ìœ¼ë¡œ íƒ€ì´ë¨¸ ë§Œë“¤ê¸°

```swift
DispatchQueue.main.asyncAfter(deadline: .now() + .seconds(1)) {
    print("async After timeout!")
}
```

asyncAfter()ë¡œ ë¹„ë™ê¸° ìš”ì²­ì„ í•˜ëŠ” ë°©ì‹ì´ë‹¤.

ë°˜ë³µí•´ì„œ í˜¸ì¶œí•˜ëŠ” íƒ€ì´ë¨¸ë¼ê¸° ë³´ë‹¤ëŠ” ì¼ì • ì‹œê°„ë™ì•ˆ ë™ì‘ì„ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ delayí•˜ëŠ” ê²ƒì— ê°€ê¹ë‹¤. ì¼ì •í•œ ì£¼ê¸°ì— ë§ì¶°ì„œ ë°˜ë³µí•˜ëŠ” íƒ€ì´ë¨¸ë¡œ ì‚¬ìš©í•˜ê¸°ëŠ” ë¬´ë¦¬ê°€ ìˆë‹¤. main íê°€ ì•„ë‹ˆë”ë¼ë„ ì‰½ê²Œ ë‹¤ë¥¸ íë¥¼ ì§€ì •í•´ì„œ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ë™ì‘í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤

## ğŸ˜DispatchSourceTimerë¡œ íƒ€ì´ë¨¸ ë§Œë“¤ê¸°

**Protocol
DispatchSourceTimer**

A dispatch source that submits the event handler block based on a timer.

iOS 8.0+iPadOS 8.0+macOS 10.10+Mac Catalyst 13.0+tvOS 9.0+watchOS 2.0+Xcode 8.0+

## **Declaration**

`protocol DispatchSourceTimer`

## **Overview**

You do not adopt this protocol in your objects. Instead, use theÂ `[makeTimerSource(flags:queue:)](https://developer.apple.com/documentation/dispatch/dispatchsource/2300106-maketimersource)`Â method to create an object that adopts this protocol.

## **Topics**

****Scheduling the Timer Trigger Conditions****

`[funcÂ schedule(deadline: DispatchTime,Â repeating: DispatchTimeInterval,Â leeway: DispatchTimeInterval)](https://developer.apple.com/documentation/dispatch/dispatchsourcetimer/2920392-schedule)`

Schedules a timer with the specified deadline, repeat interval, and leeway values.

`[funcÂ schedule(deadline: DispatchTime,Â repeating: Double,Â leeway: DispatchTimeInterval)](https://developer.apple.com/documentation/dispatch/dispatchsourcetimer/2920395-schedule)`

Schedules a timer with the specified deadline, repeat interval, and leeway values.

`[funcÂ schedule(wallDeadline: DispatchWallTime,Â repeating: DispatchTimeInterval,Â leeway: DispatchTimeInterval)](https://developer.apple.com/documentation/dispatch/dispatchsourcetimer/2920391-schedule)`

Schedules a timer with the specified time, repeat interval, and leeway values.

`[funcÂ schedule(wallDeadline: DispatchWallTime,Â repeating: Double,Â leeway: DispatchTimeInterval)](https://developer.apple.com/documentation/dispatch/dispatchsourcetimer/2920390-schedule)`

Schedules a timer with the specified time, repeat interval, and leeway values.

ìœ„ëŠ” Apple developerì— ë‚˜ì™€ìˆëŠ” DispatchSourceTimerì˜ ì •ë³´ì´ë‹¤

DispatchSourceTimerì˜ ì‚¬ìš©ë²•ì€ ë¹„êµì  ê°„ë‹¨í•˜ë‹¤. íƒ€ì´ë¨¸ë¥¼ ë§Œë“¤ê³ (DispatchSource.makeTimerSource(flags: , queue:)), 

ìŠ¤ì¼€ì¤„ì„ ì§€ì •í•˜ê³ (deadlineê³¼ repeating ì§€ì •), 

ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ëª…ì‹œí•˜ê³  (timer?.setEventHandler(handler: {

}) )

íƒ€ì´ë¨¸ë¥¼ ì‹œì‘í•˜ë©´ ëœë‹¤. íŠ¹íˆ ì›í•˜ëŠ” ìŠ¤ë ˆë“œ íì—ì„œ ë°˜ë³µí•´ì„œ ë™ì‘í•˜ë„ë¡ í•  ìˆ˜ ìˆì–´ì„œ ë°±ê·¸ë¼ìš´ë“œ íƒ€ì´ë¨¸ë¡œ ë§Œë“¤ê¸° ì¢‹ì„ ê²ƒ ê°™ì§€â€¦ë§Œ

ê·¸ë ‡ê²Œ ë˜ ê°„ë‹¨í•˜ê¸°ë§Œ í•œ ë…€ì„ì€ ì•„ë‹ˆë‹¤

Timer ìƒì„±ìì˜Â **queue**ì—ëŠ” ì›í•˜ëŠ” ì‘ì—…ì´ UIì™€ ê´€ë ¨ë˜ì–´ ìˆë‹¤ë©´Â **Main**ì„ í• ë‹¹í•´ì£¼ì–´ì•¼ í•œë‹¤(ì´ê±´ ì €ë²ˆì£¼ì— ë°°ìš´ ë°” ìˆë‹¤)

ë°”ë¡œ ì‹¤í–‰ë˜ì–´ì•¼ í•œë‹¤ë©´Â **deadline**ì— .now()ë§Œ í• ë‹¹í•˜ë©´ ë˜ê³ , 3ì´ˆ í›„ì— ì‹¤í–‰ë˜ì–´ì•¼ í•œë‹¤ë©´ .now() + 3 ì„ í• ë‹¹í•´ì£¼ë©´ ëœë‹¤. 1ì´ˆë§ˆë‹¤ ë°˜ë³µë˜ë„ë¡Â **repeating**ì—ëŠ” 1ì„ í• ë‹¹í•˜ì˜€ë‹¤.

Timerì™€ í•¨ê»˜ ì—°ë™ë Â **EventHandler**ë¥¼ í• ë‹¹í•œë‹¤.

```swift
// ì‹œì‘
timer?.resume()

// ì¼ì‹œì •ì§€
timer?.suspend()

// ì¢…ë£Œ
timer?.cancel()
timer = nil

```

Timerë¥¼ ì¢…ë£Œí•  ë• Timerì— ê¼­ nilì„ í• ë‹¹í•´ì„œ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œì‹œì¼œì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ í™”ë©´ì„ ë²—ì–´ë‚˜ë„ Backgroundì—ì„œ ê³„ì† ë™ì‘í•˜ê³  ìˆë‹¤â€¦í˜¼ìì„œ ì™¸ë¡­ê²Œ ë§ì´ë‹¤.

# ğŸ˜„ì „ì²´ì½”ë“œ

```swift
import UIKit
import AudioToolbox

enum TimerStatus {
    case start
    case pause
    case end
}

class ViewController: UIViewController {
    @IBOutlet weak var timerLabel: UILabel!
    
    @IBOutlet weak var commentView: UITextView!
    
    @IBOutlet weak var commentText: UITextField!
    
    
    @IBOutlet weak var registerButton: UIButton!
    
    @IBOutlet weak var datePicker: UIDatePicker!
    
    @IBOutlet weak var startButton: UIButton!
    
    @IBOutlet weak var stopButton: UIButton!
   
    @IBOutlet weak var contentCommentView: UITextView!
    
    var duration = 60
    
    var content: String = ""
    
    var timerStatus: TimerStatus = .end
    
    var timer: DispatchSourceTimer?
    
    
    var currentSeconds = 0
    
    override func viewDidLoad() {
        super.viewDidLoad()
        self.configureToggleButton()
        // Do any additional setup after loading the view.
    }

    func setTimerInfoViewVisible(isHidden: Bool){
        self.timerLabel.isHidden = isHidden
        
    }
    
    func startTimer(){
        if self.timer == nil {
            self.timer = DispatchSource.makeTimerSource(flags: [], queue: .main)
            self.timer?.schedule(deadline: .now(), repeating: 1)
            self.timer?.setEventHandler(handler: { [weak self] in
                guard let self = self else { return } //Selfë¥¼ Strong referenceìœ¼ë¡œ
                self.currentSeconds -= 1
                let hour = self.currentSeconds / 3600 //ì‹œ
                let minutes = (self.currentSeconds % 3600) / 60 //ë¶„
                let seconds = (self.currentSeconds % 3600) % 60 //ì´ˆ
                self.timerLabel.text = String(format: "%02d:%02d:%02d", hour, minutes, seconds)
                self.turnColorView()
                
                
                if self.currentSeconds <= 0 {
                    self.stopTimer()
                    self.view.backgroundColor = UIColor(red: 255.0, green: 255.0, blue: 255.0, alpha: 0.5)
                    AudioServicesPlaySystemSound(1024)
                }
                
            })
            self.timer?.resume()
        }
    }
    
    func configureToggleButton(){
        self.startButton.setTitle("ì‹œì‘", for: .normal)
        self.startButton.setTitle("ì¼ì‹œì •ì§€", for: .selected)
    }
    
    
    @IBAction func tapRegisterButton(_ sender: UIButton) {
        if(commentText.text != ""){
            self.content = contentCommentView.text
            content.append("\n" + commentText.text!)
            contentCommentView.text = content
        }
    }
    
    @IBAction func tapStartButton(_ sender: UIButton) {
        self.duration = Int(self.datePicker.countDownDuration)
        switch self.timerStatus {
        case .end:
            self.currentSeconds = self.duration
            self.timerStatus = .start
            self.setTimerInfoViewVisible(isHidden: false)
            self.datePicker.isHidden = true
            self.startButton.isSelected = true
            self.stopButton.isEnabled = true
            self.startTimer()
        case .start:
            self.timerStatus = .pause
            self.startButton.isSelected = false
            self.timer?.suspend()
        case .pause:
            self.timerStatus = .start
            self.startButton.isSelected = true
            self.timer?.resume()
            
        }
    }
    
    func turnColorView(){
        if(currentSeconds >= 60){
            debugPrint(currentSeconds)
            self.view.backgroundColor = UIColor(red: 1.0, green: 1.0, blue: 1.0, alpha: 1.0)
        }
        if(currentSeconds < 60 && currentSeconds >= 40){
            debugPrint(currentSeconds)
            self.view.backgroundColor = UIColor(red: 1.0, green: 0.749, blue: 0.749, alpha: 1.0)
        }
        
        if(currentSeconds < 40 && currentSeconds >= 20){
            debugPrint(currentSeconds)
            self.view.backgroundColor = UIColor(red: 1.0, green: 0.5294, blue: 0.5294, alpha: 1.0)
        }
        if(currentSeconds < 20 && currentSeconds >= 10){
            debugPrint(currentSeconds)
            self.view.backgroundColor = UIColor(red: 1.0, green: 0.3696, blue: 0.3686, alpha: 1.0)
        }
        if(currentSeconds < 10 && currentSeconds >= 5){
            debugPrint(currentSeconds)
            self.view.backgroundColor = UIColor(red: 1.0, green: 0.1882, blue: 0.1882, alpha: 1.0)
        }
        if(currentSeconds < 5 && currentSeconds > 0){
            debugPrint(currentSeconds)
            self.view.backgroundColor = UIColor(red: 1.0, green: 0.0, blue: 0.0, alpha: 1.0)
        }
       
       
      
       
    }
    
    
    func stopTimer() {
        if self.timerStatus == .pause {
            self.timer?.resume()
        }
        self.timerStatus = .end
        self.stopButton.isEnabled = false
        self.setTimerInfoViewVisible(isHidden: true)
        self.datePicker.isHidden = false
        self.startButton.isSelected = false
        self.timer?.cancel()
        self.timer = nil //íƒ€ì´ë¨¸ ë©”ëª¨ë¦¬ í•´ì œ
        
    }
    
    @IBAction func tapStopButton(_ sender: UIButton) {
        switch self.timerStatus {
            case .start, .pause:
            self.stopTimer()
            
        default:
            break
            
        }
    }
}
```

# ğŸ˜ˆì‹¤í–‰ ê²°ê³¼




ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ í™”ë©´ ìƒ‰ì´ ë³€í•˜ê³ 
<img width="1792" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-11-01 á„‹á…©á„’á…® 9 16 46" src="https://user-images.githubusercontent.com/102133961/199238179-c8f2714c-5e69-44b2-a092-b26ab08c4a39.png">
<img width="1505" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-11-01 á„‹á…©á„’á…® 9 17 03" src="https://user-images.githubusercontent.com/102133961/199238183-e412846e-c62d-44ae-aef5-33f73ac4b608.png">
<img width="1493" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-11-01 á„‹á…©á„’á…® 9 21 39" src="https://user-images.githubusercontent.com/102133961/199238185-1e2358b3-c936-44c7-828f-cf67621425b6.png">

ì›í•˜ëŠ” ë§ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í…ìŠ¤íŠ¸ ë·°ì— ë„£ì„ ìˆ˜ ìˆìœ¼ë©°

íƒ€ì´ë¨¸ ê¸°ëŠ¥ë„ ì°©ì‹¤í•˜ê²Œ ë“¤ì–´ê°”ë‹¤

[MineTimer.zip](https://github.com/jinyongyun/jinyongyun.github.io/files/9910008/MineTimer.zip)
